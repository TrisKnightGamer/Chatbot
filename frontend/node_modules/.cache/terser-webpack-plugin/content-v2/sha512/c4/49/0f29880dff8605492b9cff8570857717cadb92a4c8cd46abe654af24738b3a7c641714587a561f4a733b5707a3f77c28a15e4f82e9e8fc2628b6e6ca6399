{"code":"(this[\"webpackJsonpchatbot-react\"]=this[\"webpackJsonpchatbot-react\"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){\"use strict\";n.r(t);var a=n(0),s=n.n(a),r=n(7),o=n.n(r),i=(n(45),n(46),n(10)),c=n.n(i),l=n(17),u=n(11),h=n(12),m=n(14),p=n(13),d=n(88),f=n(89),g=n(90),v=n(87),b=n(61),y=(n(48),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:\"formatAlign\",value:function(e){return\"left\"===e?\"flex-start\":\"flex-end\"}},{key:\"render\",value:function(){var e={background:this.props.isBot?\"#ecf0f1\":\"#2e86de\",color:this.props.isBot?\"black\":\"white\"};return s.a.createElement(\"div\",{className:\"Message\",style:{alignSelf:this.formatAlign(this.props.align)}},s.a.createElement(b.a,{className:\"OneMessage\",style:e},s.a.createElement(\"div\",{className:\"MessageContent\"},s.a.createElement(v.a,{component:\"p\"},this.props.content))))}}]),n}(a.Component)),E=(n(52),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).scrollToBottom=function(){a.messagesEnd.scrollIntoView()},a.state={msgList:null},a}return Object(h.a)(n,[{key:\"componentDidUpdate\",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){console.log(\"Waiting for render message\")}),750),e.next=3,fetch(\"http://0.0.0.0:5000/api/v1/messages\");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.setState({msgList:n.results});case 8:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"componentDidMount\",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"http://0.0.0.0:5000/api/v1/messages\");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),this.setState({msgList:n.results}),this.scrollToBottom();case 9:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this;return s.a.createElement(\"div\",{className:\"MessageContainer\"},s.a.createElement(\"div\",{className:\"MessageList\"},this.state.msgList?this.state.msgList.map((function(e,t){var n=!0===e.isBot?\"left\":\"right\";return s.a.createElement(y,{key:t,isBot:e.isBot,align:n,content:e.content})})):null,s.a.createElement(\"div\",{style:{float:\"left\",clear:\"both\"},ref:function(t){e.messagesEnd=t}})))}}]),n}(a.Component)),j=n(36),O=n(15),w=n(91),k=n(16),S=n.n(k);n(58);var B=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this)).state={message:\"\",alert:!0},a.handleEnter=a.handleEnter.bind(Object(O.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a.onChange=a.onChange.bind(Object(O.a)(a)),a.handleButtonPress=a.handleButtonPress.bind(Object(O.a)(a)),a.handleButtonRelease=a.handleButtonRelease.bind(Object(O.a)(a)),a}return Object(h.a)(n,[{key:\"handleSubmit\",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.setState({message:this.state.message.replace(/(\\r\\n|\\n|\\r)/gm,\"\")});case 3:if(\"\"!==this.state.message){e.next=7;break}return e.abrupt(\"return\");case 7:fetch(\"http://0.0.0.0:5000/api/v1/messages\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify({content:this.state.message,isBot:!1,time:(new Date).getTime()/1e3})}).then((function(e){200===e.status?(console.log(\"Send message successfully\"),e.json().then((function(e){console.log(e),fetch(\"http://0.0.0.0:5000/api/v1/messages/reply\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify({content:e.content,isBot:!1,time:(new Date).getTime()/1e3})}).then((function(e){200===e.status?console.log(\"Wait for reply ...\"):console.log(\"Some error occured\")}))}))):console.log(\"Some error occured\")})).then(this.setState({message:\"\"}));case 8:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"handleEnter\",value:function(e){if(13===e.keyCode)return this.handleSubmit(e)}},{key:\"onChange\",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:\"handleButtonPress\",value:function(){var e;this.state.alert?e=setTimeout((function(){return S.a.startListening({continuous:!0})}),200):clearTimeout(e)}},{key:\"handleButtonRelease\",value:function(){this.setState({alert:!1})}},{key:\"render\",value:function(){return S.a.browserSupportsSpeechRecognition()?s.a.createElement(\"div\",{className:\"SendMessageForm\"},s.a.createElement(\"div\",{className:\"chat-input-width-100\"},s.a.createElement(\"form\",{className:\"MessageForm\",onKeyUp:this.handleEnter},s.a.createElement(w.a,{name:\"message\",id:\"outlined-multiline-static\",fullWidth:!1,multiline:!0,rows:\"4\",value:this.state.message,placeholder:\"Type something here\",className:\"chat-input\",style:{width:\"925px\"},margin:\"normal\",variant:\"outlined\",onChange:this.onChange}),s.a.createElement(\"img\",{src:\"voice.png\",alt:\"button\",onTouchStart:this.handleButtonPress,onTouchEnd:S.a.stopListening,onMouseDown:this.handleButtonPress,onMouseUp:S.a.stopListening,onMouseLeave:S.a.stopListening,style:{height:\"30px\",width:\"30px\",marginTop:\"15px\"}}),s.a.createElement(\"p\",{hidden:!0},setInterval(this.props.resetTranscript,1e3)),s.a.createElement(\"p\",null,this.props.transcript)))):null}}]),n}(a.Component),x=(n(59),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={msg:null},a}return Object(h.a)(n,[{key:\"getDataFromChild\",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({msg:t});case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"BoxChat\"},s.a.createElement(d.a,{maxWidth:\"md\",className:\"relative\"},s.a.createElement(\"div\",{className:\"row\"},s.a.createElement(f.a,{style:{height:\"100vh\"}},s.a.createElement(g.a,{className:\"TopToolbarChatbot\"},s.a.createElement(v.a,{variant:\"h6\",color:\"inherit\"},\"Chat\")),s.a.createElement(E,{newMsg:this.state.msg}),s.a.createElement(B,{returnParent:this.getDataFromChild.bind(this)})))))}}]),n}(a.Component));var C=function(){return s.a.createElement(\"div\",{className:\"App\"},s.a.createElement(x,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(C,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);","name":"static/js/main.4a3b54c2.chunk.js","map":{"version":3,"sources":["static/js/main.4a3b54c2.chunk.js"],"names":["this","push","45","module","exports","__webpack_require__","46","48","52","58","59","60","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","Container","Card","Toolbar","Typography","Paper","Message_Message","_Component","Object","Message","_super","apply","arguments","key","value","align","OneMessageStyle","background","props","isBot","color","a","createElement","className","style","alignSelf","formatAlign","component","content","MessageList_MessageList","MessageList","_this","call","scrollToBottom","messagesEnd","scrollIntoView","state","msgList","_componentDidUpdate","mark","_callee","res","data","wrap","_context","prev","next","setTimeout","console","log","fetch","sent","json","setState","results","stop","_componentDidMount","_callee2","_context2","_this2","map","e","idx","float","clear","ref","el","defineProperty","assertThisInitialized","TextField","lib","lib_default","SendMessageForm_SendMessageForm","SendMessageForm","message","alert","handleEnter","bind","handleSubmit","onChange","handleButtonPress","handleButtonRelease","_handleSubmit","preventDefault","replace","abrupt","method","headers","Content-Type","Accept","body","JSON","stringify","time","Date","getTime","then","status","postResponse","_x","keyCode","target","name","buttonPressTimer","startListening","continuous","clearTimeout","browserSupportsSpeechRecognition","onKeyUp","id","fullWidth","multiline","rows","placeholder","width","margin","variant","src","alt","onTouchStart","onTouchEnd","stopListening","onMouseDown","onMouseUp","onMouseLeave","height","marginTop","hidden","setInterval","resetTranscript","transcript","BoxChat_BoxChat","BoxChat","msg","_getDataFromChild","maxWidth","newMsg","returnParent","getDataFromChild","src_App","Boolean","window","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"input":"(this[\"webpackJsonpchatbot-react\"] = this[\"webpackJsonpchatbot-react\"] || []).push([[0],{\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(7);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js\nvar Toolbar = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(87);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(61);\n\n// EXTERNAL MODULE: ./src/components/Message/style.css\nvar style = __webpack_require__(48);\n\n// CONCATENATED MODULE: ./src/components/Message/index.js\nvar Message_Message=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Message,_Component);var _super=Object(createSuper[\"a\" /* default */])(Message);function Message(){Object(classCallCheck[\"a\" /* default */])(this,Message);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Message,[{key:\"formatAlign\",value:function formatAlign(align){if(align==='left'){return'flex-start';}if(align==='right'){return'flex-end';}return'flex-end';}},{key:\"render\",value:function render(){var OneMessageStyle={background:this.props.isBot?'#ecf0f1':'#2e86de',color:this.props.isBot?'black':'white'};return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"Message\",style:{alignSelf:this.formatAlign(this.props.align)}},/*#__PURE__*/react_default.a.createElement(Paper[\"a\" /* default */],{className:\"OneMessage\",style:OneMessageStyle},/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"MessageContent\"},/*#__PURE__*/react_default.a.createElement(Typography[\"a\" /* default */],{component:\"p\"},this.props.content))));}}]);return Message;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/components/MessageList/style.css\nvar MessageList_style = __webpack_require__(52);\n\n// CONCATENATED MODULE: ./src/components/MessageList/index.js\nvar MessageList_MessageList=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(MessageList,_Component);var _super=Object(createSuper[\"a\" /* default */])(MessageList);function MessageList(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,MessageList);_this=_super.call(this,props);_this.scrollToBottom=function(){_this.messagesEnd.scrollIntoView();};_this.state={msgList:null};return _this;}Object(createClass[\"a\" /* default */])(MessageList,[{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTimeout(function(){console.log(\"Waiting for render message\");},750);_context.next=3;return fetch('http://0.0.0.0:5000/api/v1/messages');case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;this.setState({msgList:data.results});//this.scrollToBottom();\ncase 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var res,data;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://0.0.0.0:5000/api/v1/messages');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;console.log(data);this.setState({msgList:data.results});this.scrollToBottom();case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"MessageContainer\"},/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"MessageList\"},this.state.msgList?this.state.msgList.map(function(e,idx){var align=e.isBot===true?'left':'right';return/*#__PURE__*/react_default.a.createElement(Message_Message,{key:idx,isBot:e.isBot,align:align,content:e.content});}):null,/*#__PURE__*/react_default.a.createElement(\"div\",{style:{float:\"left\",clear:\"both\"},ref:function ref(el){_this2.messagesEnd=el;}})));}}]);return MessageList;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 47 modules\nvar TextField = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/react-speech-recognition/lib/index.js\nvar lib = __webpack_require__(16);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/components/SendMessageForm/style.css\nvar SendMessageForm_style = __webpack_require__(58);\n\n// CONCATENATED MODULE: ./src/components/SendMessageForm/index.js\n// import Icon  from \"@material-ui/icons\";\n// eslint-disable-next-line\nfunction Hook(Component){return function WrappedComponent(props){var transcript=Object(lib[\"useSpeechRecognition\"])();var resetTranscript=Object(lib[\"useSpeechRecognition\"])();return/*#__PURE__*/react_default.a.createElement(Component,Object.assign({},props,{transcript:transcript,resetTranscript:resetTranscript}));};}var SendMessageForm_SendMessageForm=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(SendMessageForm,_Component);var _super=Object(createSuper[\"a\" /* default */])(SendMessageForm);function SendMessageForm(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,SendMessageForm);_this=_super.call(this);_this.state={message:\"\",alert:true};_this.handleEnter=_this.handleEnter.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.onChange=_this.onChange.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleButtonPress=_this.handleButtonPress.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleButtonRelease=_this.handleButtonRelease.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(SendMessageForm,[{key:\"handleSubmit\",value:function(){var _handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return this.setState({message:this.state.message.replace(/(\\r\\n|\\n|\\r)/gm,\"\")});case 3:if(!(this.state.message===\"\")){_context.next=7;break;}return _context.abrupt(\"return\");case 7:fetch('http://0.0.0.0:5000/api/v1/messages',{method:'POST',headers:{'Content-Type':'application/json',Accept:'application/json'},body:JSON.stringify({content:this.state.message,isBot:false,time:new Date().getTime()/1000})}).then(function(res){if(res.status===200){console.log(\"Send message successfully\");res.json().then(function(postResponse){console.log(postResponse);fetch('http://0.0.0.0:5000/api/v1/messages/reply',{method:'POST',headers:{'Content-Type':'application/json',Accept:'application/json'},body:JSON.stringify({content:postResponse.content,isBot:false,time:new Date().getTime()/1000})}).then(function(res){if(res.status===200){console.log(\"Wait for reply ...\");}else{console.log(\"Some error occured\");}});});}else{console.log(\"Some error occured\");}}).then(this.setState({message:\"\"}));case 8:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"handleEnter\",value:function handleEnter(e){if(e.keyCode===13){return this.handleSubmit(e);}return;}},{key:\"onChange\",value:function onChange(e){this.setState(Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value));}},{key:\"handleButtonPress\",value:function handleButtonPress(){var buttonPressTimer;if(this.state.alert){buttonPressTimer=setTimeout(function(){return lib_default.a.startListening({continuous:true});},200);}else{clearTimeout(buttonPressTimer);}}},{key:\"handleButtonRelease\",value:function handleButtonRelease(){this.setState({alert:false});}},{key:\"render\",value:function render(){if(!lib_default.a.browserSupportsSpeechRecognition()){return null;}return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"SendMessageForm\"},/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"chat-input-width-100\"},/*#__PURE__*/react_default.a.createElement(\"form\",{className:\"MessageForm\",onKeyUp:this.handleEnter},/*#__PURE__*/react_default.a.createElement(TextField[\"a\" /* default */],{name:\"message\",id:\"outlined-multiline-static\",fullWidth:false,multiline:true,rows:\"4\",value:this.state.message,placeholder:\"Type something here\",className:\"chat-input\",style:{width:\"925px\"},margin:\"normal\",variant:\"outlined\",onChange:this.onChange}),/*#__PURE__*/react_default.a.createElement(\"img\",{src:\"voice.png\",alt:\"button\",onTouchStart:this.handleButtonPress,onTouchEnd:lib_default.a.stopListening,onMouseDown:this.handleButtonPress,onMouseUp:lib_default.a.stopListening,onMouseLeave:lib_default.a.stopListening,style:{height:30+'px',width:30+'px',marginTop:15+'px'}}),/*#__PURE__*/react_default.a.createElement(\"p\",{hidden:true},setInterval(this.props.resetTranscript,1000)),/*#__PURE__*/react_default.a.createElement(\"p\",null,this.props.transcript))));}}]);return SendMessageForm;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/components/BoxChat/style.css\nvar BoxChat_style = __webpack_require__(59);\n\n// CONCATENATED MODULE: ./src/components/BoxChat/index.js\nvar BoxChat_BoxChat=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(BoxChat,_Component);var _super=Object(createSuper[\"a\" /* default */])(BoxChat);function BoxChat(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,BoxChat);_this=_super.call(this,props);_this.state={msg:null};return _this;}Object(createClass[\"a\" /* default */])(BoxChat,[{key:\"getDataFromChild\",value:function(){var _getDataFromChild=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(msg){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.setState({msg:msg});case 2:case\"end\":return _context.stop();}}},_callee,this);}));function getDataFromChild(_x){return _getDataFromChild.apply(this,arguments);}return getDataFromChild;}()},{key:\"render\",value:function render(){return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"BoxChat\"},/*#__PURE__*/react_default.a.createElement(Container[\"a\" /* default */],{maxWidth:\"md\",className:\"relative\"},/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"row\"},/*#__PURE__*/react_default.a.createElement(Card[\"a\" /* default */],{style:{\"height\":\"100vh\"}},/*#__PURE__*/react_default.a.createElement(Toolbar[\"a\" /* default */],{className:\"TopToolbarChatbot\"},/*#__PURE__*/react_default.a.createElement(Typography[\"a\" /* default */],{variant:\"h6\",color:\"inherit\"},\"Chat\")),/*#__PURE__*/react_default.a.createElement(MessageList_MessageList,{newMsg:this.state.msg}),/*#__PURE__*/react_default.a.createElement(SendMessageForm_SendMessageForm,{returnParent:this.getDataFromChild.bind(this)})))));}}]);return BoxChat;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"App\"},/*#__PURE__*/react_default.a.createElement(BoxChat_BoxChat,null));}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.1/8 is considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/react_default.a.createElement(src_App,null),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[60,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\index.css","C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\App.css","C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\components\\Message\\style.css","C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\components\\MessageList\\style.css","C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\components\\SendMessageForm\\style.css","C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Trihd\\OneDrive\\chatbot_NEW\\frontend\\src\\components\\BoxChat\\style.css","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/components/Message/index.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/components/MessageList/index.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/components/SendMessageForm/index.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/components/BoxChat/index.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/App.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/serviceWorker.js","C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/index.js"],"names":["Message","align","OneMessageStyle","background","props","isBot","color","alignSelf","formatAlign","content","Component","MessageList","scrollToBottom","messagesEnd","scrollIntoView","state","msgList","setTimeout","console","log","fetch","res","json","data","setState","results","map","e","idx","float","clear","el","Hook","WrappedComponent","transcript","useSpeechRecognition","resetTranscript","SendMessageForm","message","alert","handleEnter","bind","handleSubmit","onChange","handleButtonPress","handleButtonRelease","preventDefault","replace","method","headers","Accept","body","JSON","stringify","time","Date","getTime","then","status","postResponse","keyCode","target","name","value","buttonPressTimer","SpeechRecognition","startListening","continuous","clearTimeout","browserSupportsSpeechRecognition","width","stopListening","height","marginTop","setInterval","BoxChat","msg","getDataFromChild","App","isLocalhost","Boolean","window","location","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","response","contentType","get","indexOf","unregister","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\nimport {Paper, Typography} from '@material-ui/core';\n\nimport './style.css'\nexport default class Message extends Component {\n\n    formatAlign(align){\n        if(align === 'left') {\n            return 'flex-start'\n        }\n        if(align === 'right') {\n            return 'flex-end'\n        }\n        return 'flex-end'\n    }\n    \n    render() {\n        const OneMessageStyle = {\n            background: this.props.isBot?'#ecf0f1':'#2e86de',\n            color: this.props.isBot?'black' :'white'\n        }\n        return (\n            <div className=\"Message\" style={{alignSelf:this.formatAlign(this.props.align)}}>\n               <Paper className=\"OneMessage\" style={OneMessageStyle}>\n                    <div className=\"MessageContent\">\n                        <Typography component=\"p\">\n                           {this.props.content}\n                        </Typography>\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport Message from \"../Message\";\nimport './style.css'\n\nexport default class MessageList extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            msgList: null\n        }\n    }\n\n   scrollToBottom = () => {\n       this\n           .messagesEnd\n           .scrollIntoView();\n  }\n    \n    async componentDidUpdate() {\n        setTimeout(()=>{\n            console.log(\"Waiting for render message\") \n        }, 750)\n        const res = await fetch('http://0.0.0.0:5000/api/v1/messages');\n        const data = await res.json()\n        this.setState({msgList: data.results})\n        //this.scrollToBottom();\n    }\n    async componentDidMount() {\n        const res = await fetch('http://0.0.0.0:5000/api/v1/messages');\n        const data = await res.json()\n        console.log(data)\n        this.setState({msgList: data.results})\n        this.scrollToBottom();\n    }\n\n    render() {\n        return (\n            <div className=\"MessageContainer\">\n                <div className=\"MessageList\">\n                    {this.state.msgList\n                        ? this\n                            .state\n                            .msgList\n                            .map((e, idx) => {\n                                const align = (e.isBot === true)\n                                    ? 'left'\n                                    : 'right'\n                                return (<Message key={idx} isBot={e.isBot} align={align} content={e.content}/>)\n                            })\n                        : null\n}\n                    <div\n                        style={{\n                        float: \"left\",\n                        clear: \"both\"\n                    }}\n                        ref={(el) => {\n                        this.messagesEnd = el;\n                    }}></div>\n                </div>\n\n            </div>\n\n        );\n    }\n\n}","import React, {Component} from 'react'\nimport {TextField} from \"@material-ui/core\";\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition'\n// import Icon  from \"@material-ui/icons\";\nimport './style.css'\n\n// eslint-disable-next-line\nfunction Hook(Component) {\n    return function WrappedComponent(props) {\n      const transcript = useSpeechRecognition()\n      const resetTranscript = useSpeechRecognition()\n      return <Component {...props} transcript={transcript} resetTranscript={resetTranscript} />;\n    }\n}\n\n\n\nexport default class SendMessageForm extends Component  {\n    constructor(props) {\n        super();\n        this.state = {\n            message: \"\",\n            alert:true\n        }\n        this.handleEnter = this\n            .handleEnter\n            .bind(this)\n        this.handleSubmit = this\n            .handleSubmit\n            .bind(this)\n        this.onChange = this\n            .onChange\n            .bind(this)\n        this.handleButtonPress = this\n            .handleButtonPress\n            .bind(this)\n        this.handleButtonRelease = this\n            .handleButtonRelease\n            .bind(this)\n    }\n    async handleSubmit(e) {\n        e.preventDefault()\n        await this.setState({\n            message: this\n                .state\n                .message\n                .replace(/(\\r\\n|\\n|\\r)/gm, \"\")\n        })\n\n        if (this.state.message === \"\") {\n            return\n        } else {\n            fetch('http://0.0.0.0:5000/api/v1/messages', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json'\n                },\n                body: JSON.stringify({\n                    content: this.state.message,\n                    isBot: false,\n                    time: (new Date().getTime()) / 1000\n                })\n            }).then(res => {\n                if (res.status === 200) {\n                    console.log(\"Send message successfully\")\n                    res\n                        .json()\n                        .then(postResponse => {\n                            console.log(postResponse);\n                            \n                            fetch('http://0.0.0.0:5000/api/v1/messages/reply', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                    Accept: 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    content: postResponse.content,\n                                    isBot: false,\n                                    time: (new Date().getTime()) / 1000\n                                })\n                            }).then(res => {\n                                if (res.status === 200) {\n                                    console.log(\"Wait for reply ...\")\n                                } else {\n                                    console.log(\"Some error occured\");\n\n                                }\n                            })\n                        })\n\n                } else {\n                    console.log(\"Some error occured\");\n                }\n            }).then(this.setState({message: \"\"}))\n\n        }\n\n    }\n    handleEnter(e) {\n        if (e.keyCode === 13) {\n            return this.handleSubmit(e)\n        }\n        return\n    }\n    onChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    handleButtonPress () {\n        let buttonPressTimer\n        if(this.state.alert){\n            buttonPressTimer = setTimeout(() => SpeechRecognition.startListening({continuous: true }), 200);\n        }\n        else{\n            clearTimeout(buttonPressTimer);\n        }\n    }\n    \n    handleButtonRelease () {\n\n        this.setState({\n            alert:false\n        })\n    }\n\n    render() {\n        if (!SpeechRecognition.browserSupportsSpeechRecognition()) {\n            return null\n        }\n        return (\n            <div className=\"SendMessageForm\">\n                <div className=\"chat-input-width-100\">\n                    <form className=\"MessageForm\" onKeyUp={this.handleEnter}>\n                        <TextField\n                            name=\"message\"\n                            id=\"outlined-multiline-static\"\n                            fullWidth={false}\n                            multiline\n                            rows=\"4\"\n                            value={this.state.message}\n                            placeholder=\"Type something here\"\n                            className=\"chat-input\"\n                            style={{\n                                width:\"925px\"\n                            }}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            onChange={this.onChange}/>   \n                        <img src=\"voice.png\" alt=\"button\" onTouchStart={this.handleButtonPress} \n                                onTouchEnd={SpeechRecognition.stopListening} \n                                onMouseDown={this.handleButtonPress} \n                                onMouseUp={SpeechRecognition.stopListening} \n                                onMouseLeave={SpeechRecognition.stopListening} style={{height:30+'px', width:30+'px', marginTop:15+'px'}}/>\n                        <p hidden>\n                            {setInterval(this.props.resetTranscript,1000)}\n                        </p>\n                        <p>{this.props.transcript}</p>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\n","import React, {Component} from 'react'\nimport {Card, Container, Toolbar, Typography} from \"@material-ui/core\";\nimport MessageList from '../MessageList';\nimport SendMessageForm from '../SendMessageForm';\nimport './style.css'\n\nexport default class BoxChat extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            msg:null\n        }\n    }\n    async getDataFromChild(msg) {\n        await this.setState({\n            msg:msg\n        })\n    }\n    render() {\n        return (\n            <div className=\"BoxChat\">\n                <Container maxWidth=\"md\" className=\"relative\">\n                    <div className=\"row\">\n                        <Card\n                            style={{\n                            \"height\": \"100vh\"\n                        }}>\n                            <Toolbar className=\"TopToolbarChatbot\">\n                                <Typography variant=\"h6\" color=\"inherit\">\n                                    Chat\n                                </Typography>\n                            </Toolbar>\n                            <MessageList newMsg={this.state.msg}/>\n                            <SendMessageForm returnParent={this.getDataFromChild.bind(this)}/>\n                        </Card>\n                    </div>\n\n                </Container>\n\n            </div>\n        )\n    }\n}\n","import React from 'react';\nimport './App.css';\nimport BoxChat from \"./components/BoxChat\";\n\nfunction App() {\n  return (\n      <div className=\"App\">\n          <BoxChat/>\n      </div>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}