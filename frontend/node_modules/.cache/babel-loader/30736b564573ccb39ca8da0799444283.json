{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Message from\"../Message\";import'./style.css';var MessageList=/*#__PURE__*/function(_Component){_inherits(MessageList,_Component);var _super=_createSuper(MessageList);function MessageList(props){var _this;_classCallCheck(this,MessageList);_this=_super.call(this,props);_this.scrollToBottom=function(){_this.messagesEnd.scrollIntoView();};_this.state={msgList:null};return _this;}_createClass(MessageList,[{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTimeout(function(){console.log(\"Waiting for render message\");},750);_context.next=3;return fetch('http://0.0.0.0:5000/api/v1/messages');case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;this.setState({msgList:data.results});//this.scrollToBottom();\ncase 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://0.0.0.0:5000/api/v1/messages');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;console.log(data);this.setState({msgList:data.results});this.scrollToBottom();case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"MessageContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"MessageList\"},this.state.msgList?this.state.msgList.map(function(e,idx){var align=e.isBot===true?'left':'right';return/*#__PURE__*/React.createElement(Message,{key:idx,isBot:e.isBot,align:align,content:e.content});}):null,/*#__PURE__*/React.createElement(\"div\",{style:{float:\"left\",clear:\"both\"},ref:function ref(el){_this2.messagesEnd=el;}})));}}]);return MessageList;}(Component);export{MessageList as default};","map":{"version":3,"sources":["C:/Users/Trihd/OneDrive/chatbot_NEW/frontend/src/components/MessageList/index.js"],"names":["React","Component","Message","MessageList","props","scrollToBottom","messagesEnd","scrollIntoView","state","msgList","setTimeout","console","log","fetch","res","json","data","setState","results","map","e","idx","align","isBot","content","float","clear","el"],"mappings":"+7BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAO,aAAP,C,GAEqBC,CAAAA,W,0GAEjB,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EADe,MAOpBC,cAPoB,CAOH,UAAM,CACnB,MACKC,WADL,CAEKC,cAFL,GAGJ,CAXoB,CAEf,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,IADA,CAAb,CAFe,aAKlB,C,qSASGC,UAAU,CAAC,UAAI,CACXC,OAAO,CAACC,GAAR,CAAY,4BAAZ,EACH,CAFS,CAEP,GAFO,CAAV,C,sBAGkBC,CAAAA,KAAK,CAAC,qCAAD,C,QAAjBC,G,qCACaA,CAAAA,GAAG,CAACC,IAAJ,E,QAAbC,I,eACN,KAAKC,QAAL,CAAc,CAACR,OAAO,CAAEO,IAAI,CAACE,OAAf,CAAd,EACA;kdAGkBL,CAAAA,KAAK,CAAC,qCAAD,C,QAAjBC,G,uCACaA,CAAAA,GAAG,CAACC,IAAJ,E,QAAbC,I,gBACNL,OAAO,CAACC,GAAR,CAAYI,IAAZ,EACA,KAAKC,QAAL,CAAc,CAACR,OAAO,CAAEO,IAAI,CAACE,OAAf,CAAd,EACA,KAAKb,cAAL,G,iNAGK,iBACL,mBACI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BAAK,SAAS,CAAC,aAAf,EACK,KAAKG,KAAL,CAAWC,OAAX,CACK,KACGD,KADH,CAEGC,OAFH,CAGGU,GAHH,CAGO,SAACC,CAAD,CAAIC,GAAJ,CAAY,CACb,GAAMC,CAAAA,KAAK,CAAIF,CAAC,CAACG,KAAF,GAAY,IAAb,CACR,MADQ,CAER,OAFN,CAGA,mBAAQ,oBAAC,OAAD,EAAS,GAAG,CAAEF,GAAd,CAAmB,KAAK,CAAED,CAAC,CAACG,KAA5B,CAAmC,KAAK,CAAED,KAA1C,CAAiD,OAAO,CAAEF,CAAC,CAACI,OAA5D,EAAR,CACH,CARH,CADL,CAUK,IAXV,cAaI,2BACI,KAAK,CAAE,CACPC,KAAK,CAAE,MADA,CAEPC,KAAK,CAAE,MAFA,CADX,CAKI,GAAG,CAAE,aAACC,EAAD,CAAQ,CACb,MAAI,CAACrB,WAAL,CAAmBqB,EAAnB,CACH,CAPD,EAbJ,CADJ,CADJ,CA4BH,C,yBA7DoC1B,S,SAApBE,W","sourcesContent":["import React, {Component} from 'react';\nimport Message from \"../Message\";\nimport './style.css'\n\nexport default class MessageList extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            msgList: null\n        }\n    }\n\n   scrollToBottom = () => {\n       this\n           .messagesEnd\n           .scrollIntoView();\n  }\n    \n    async componentDidUpdate() {\n        setTimeout(()=>{\n            console.log(\"Waiting for render message\") \n        }, 750)\n        const res = await fetch('http://0.0.0.0:5000/api/v1/messages');\n        const data = await res.json()\n        this.setState({msgList: data.results})\n        //this.scrollToBottom();\n    }\n    async componentDidMount() {\n        const res = await fetch('http://0.0.0.0:5000/api/v1/messages');\n        const data = await res.json()\n        console.log(data)\n        this.setState({msgList: data.results})\n        this.scrollToBottom();\n    }\n\n    render() {\n        return (\n            <div className=\"MessageContainer\">\n                <div className=\"MessageList\">\n                    {this.state.msgList\n                        ? this\n                            .state\n                            .msgList\n                            .map((e, idx) => {\n                                const align = (e.isBot === true)\n                                    ? 'left'\n                                    : 'right'\n                                return (<Message key={idx} isBot={e.isBot} align={align} content={e.content}/>)\n                            })\n                        : null\n}\n                    <div\n                        style={{\n                        float: \"left\",\n                        clear: \"both\"\n                    }}\n                        ref={(el) => {\n                        this.messagesEnd = el;\n                    }}></div>\n                </div>\n\n            </div>\n\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}